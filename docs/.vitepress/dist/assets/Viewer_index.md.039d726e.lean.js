import{p as t,b as e,d,r as a,e as s,f as n,w as l,g as r,o as i,c as o,j as c,h as p,i as g,v as u,u as y,t as x,a as f,k as v}from"./app.fee60d13.js";import{V as h,b}from"./index.207465f4.js";class k extends h{constructor(t){super(t),this.initSource()}}t("data-v-7d2203c1");const m={class:"wrap"},w={class:"loading"},S=f('<div class="loading-text" data-v-7d2203c1><span class="loading-text-words" data-v-7d2203c1>L</span><span class="loading-text-words" data-v-7d2203c1>O</span><span class="loading-text-words" data-v-7d2203c1>A</span><span class="loading-text-words" data-v-7d2203c1>D</span><span class="loading-text-words" data-v-7d2203c1>I</span><span class="loading-text-words" data-v-7d2203c1>N</span><span class="loading-text-words" data-v-7d2203c1>G</span></div>',1),T={class:"loding-percent"},_={class:"container"},C={class:"container-text"},A={class:"tips"},I=f('<div class="loading-text" data-v-7d2203c1><span class="loading-text-words" data-v-7d2203c1>请</span><span class="loading-text-words" data-v-7d2203c1>点</span><span class="loading-text-words" data-v-7d2203c1>击</span><span class="loading-text-words" data-v-7d2203c1>下</span><span class="loading-text-words" data-v-7d2203c1>方</span><span class="loading-text-words" data-v-7d2203c1>按</span><span class="loading-text-words" data-v-7d2203c1>钮</span></div>',1),P=c("span",null,"Click!",-1),E=c("span",null,"模型",-1),L=c("span",null,"Click!",-1),q=c("span",null,"环境贴图",-1),V=c("span",null,"Click!",-1),j=c("span",null,"天空",-1);e();var G=d({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(t){const e=t,d=a();let f,v=a(!0),h=a(!1),G=a(!1),M=a(""),N=a("0");s((()=>{R()})),n((()=>{f&&f.destroy(),b.off("scene")})),b.on("scene",(t=>{({loading:()=>{N.value=t.progressNum,h.value=t.value},transition:()=>{G.value=t.value}})[t.type]()})),l((()=>N),(t=>{b.emit("progressNum",y(t)),parseInt(y(t))>=100&&setTimeout((()=>{h.value=!1,G.value=!0,setTimeout((()=>{G.value=!1}),1500)}),1e3)}),{deep:!0}),l((()=>e.sceneId),(()=>{}),{deep:!0,immediate:!0});const R=()=>{const t=d.value;f=new k({el:t,tween:r,path:"../public/scene/"})},D=()=>{v.value=!1,f.initModel(),W("1")},B=()=>{v.value=!1,f.initEnvironment({path:"exr.exr",type:"exr"})},O=()=>{v.value=!1,f.initSky(),f.sky.initShaderSky({scale:100,turbidity:2,rayleigh:4,postion:[15,2,-20]})},W=t=>{switch(t){case"1":f.setScene(1),M.value="场景",f.flyTo({position:[0,0,6],controls:[0,2,0],duration:2e3})}};return(t,e)=>(i(),o("div",null,[c("div",m,[p("    loding"),g(c("div",w,[S,c("div",T,x(parseInt(y(N)))+"%",1)],512),[[u,y(h)]]),p("转场动画"),g(c("div",_,[c("span",C,x(y(M)),1)],512),[[u,y(G)]]),c("div",{ref:d,id:"map",class:"map"},null,512),g(c("div",A,[I],512),[[u,y(v)]])]),c("div",{class:"btn"},[c("button",{class:"custom-btn btn-12",onClick:D},[P,E]),c("button",{class:"custom-btn btn-12",onClick:B},[L,q]),c("button",{class:"custom-btn btn-12",onClick:O},[V,j])])]))}});G.__scopeId="data-v-7d2203c1";const M=c("h1",{id:"主类"},[c("a",{class:"header-anchor",href:"#主类","aria-hidden":"true"},"#"),v(" 主类")],-1),N=f('',5),R='{"title":"主类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Viewer/index.md","lastUpdated":1679880131869}',D={};const B=Object.assign(D,{setup:function(t){return(t,e)=>(i(),o("div",null,[M,c(G),N]))}});export default B;export{R as __pageData};
