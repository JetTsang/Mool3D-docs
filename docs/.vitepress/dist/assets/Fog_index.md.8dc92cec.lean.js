import{p as t,b as a,d as s,r as n,e,f as i,w as o,g as d,o as l,c as p,h as c,i as r,v as u,u as h,j as g,t as f,a as v,k}from"./app.fee60d13.js";import{V as b,b as x}from"./index.207465f4.js";class y extends b{constructor(t){super(t),this.initModel(),this.model.deepFunction.push((({e:t})=>{t.scale.set(300,300,300)}))}init(){this.initSource(),this.initSky(),this.setLight(),this.sky.initShaderSky({scale:1e4,turbidity:1,rayleigh:10,postion:[15,6,-20]}),this.initEnvironment({path:"exr.exr",type:"exr"}),this.initFog(),this.fog.initFog("#cccccc",10,500)}setLight(){var t;null==(t=this.ambient)||t.setLight(1,.1)}}t("data-v-df01ba68");const m={class:"wrap"},w={class:"loading"},_=v('<div class="loading-text" data-v-df01ba68><span class="loading-text-words" data-v-df01ba68>L</span><span class="loading-text-words" data-v-df01ba68>O</span><span class="loading-text-words" data-v-df01ba68>A</span><span class="loading-text-words" data-v-df01ba68>D</span><span class="loading-text-words" data-v-df01ba68>I</span><span class="loading-text-words" data-v-df01ba68>N</span><span class="loading-text-words" data-v-df01ba68>G</span></div>',1),F={class:"loding-percent"},I={class:"container"},S={class:"container-text"};a();var T=s({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(t){const a=t,s=n();let v,k=n(!0),b=n(!1),T=n(""),A=n("0");e((()=>{j()})),i((()=>{v&&v.destroy(),x.off("scene")})),x.on("scene",(t=>{({loading:()=>{A.value=t.progressNum,k.value=t.value},transition:()=>{b.value=t.value}})[t.type]()})),o((()=>A),(t=>{x.emit("progressNum",h(t)),parseInt(h(t))>=100&&setTimeout((()=>{k.value=!1,b.value=!0,setTimeout((()=>{b.value=!1}),1500)}),1e3)}),{deep:!0}),o((()=>a.sceneId),(()=>{}),{deep:!0,immediate:!0});const j=()=>{const t=s.value;v=new y({el:t,tween:d,path:"../public/scene/"}),P(4)},P=t=>{switch(t){case 4:v.setScene(4,(()=>{v.init()})),T.value="雾",v.flyTo({position:[0,80,-90],controls:[0,50,0],duration:2e3})}};return(t,a)=>(l(),p("div",m,[c("    loding"),r(g("div",w,[_,g("div",F,f(parseInt(h(A)))+"%",1)],512),[[u,h(k)]]),c("转场动画"),r(g("div",I,[g("span",S,f(h(T)),1)],512),[[u,h(b)]]),g("div",{ref:s,id:"map",class:"map"},null,512)]))}});T.__scopeId="data-v-df01ba68";const A=g("h1",{id:"雾类"},[g("a",{class:"header-anchor",href:"#雾类","aria-hidden":"true"},"#"),k(" 雾类")],-1),j=v('',5),P='{"title":"雾类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Fog/index.md","lastUpdated":1679273225775}',V={};const q=Object.assign(V,{setup:function(t){return(t,a)=>(l(),p("div",null,[A,g(T),j]))}});export default q;export{P as __pageData};
