import{p as a,b as s,d as t,r as n,e,f as p,w as o,g as l,o as c,c as d,j as i,h as r,i as u,v as k,u as b,t as v,a as h,k as y}from"./app.fee60d13.js";import{V as g,b as m}from"./index.207465f4.js";class x extends g{constructor(a){super(a)}}a("data-v-0515eb2c");const f={class:"wrap"},w={class:"loading"},S=h('<div class="loading-text" data-v-0515eb2c><span class="loading-text-words" data-v-0515eb2c>L</span><span class="loading-text-words" data-v-0515eb2c>O</span><span class="loading-text-words" data-v-0515eb2c>A</span><span class="loading-text-words" data-v-0515eb2c>D</span><span class="loading-text-words" data-v-0515eb2c>I</span><span class="loading-text-words" data-v-0515eb2c>N</span><span class="loading-text-words" data-v-0515eb2c>G</span></div>',1),_={class:"loding-percent"},I={class:"container"},A={class:"container-text"},T={class:"tips"},P=h('<div class="loading-text" data-v-0515eb2c><span class="loading-text-words" data-v-0515eb2c>请</span><span class="loading-text-words" data-v-0515eb2c>点</span><span class="loading-text-words" data-v-0515eb2c>击</span><span class="loading-text-words" data-v-0515eb2c>下</span><span class="loading-text-words" data-v-0515eb2c>方</span><span class="loading-text-words" data-v-0515eb2c>按</span><span class="loading-text-words" data-v-0515eb2c>钮</span></div>',1),C=i("span",null,"Click!",-1),N=i("span",null,"天空盒子",-1),j=i("span",null,"Click!",-1),q=i("span",null,"着色器天空",-1);s();var B=t({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(a){const s=a,t=n();let h,y=n(!0),g=n(!1),B=n(!1),E=n(""),V=n("0");e((()=>{D()})),p((()=>{h&&h.destroy(),m.off("scene")})),m.on("scene",(a=>{({loading:()=>{V.value=a.progressNum,g.value=a.value},transition:()=>{B.value=a.value}})[a.type]()})),o((()=>V),(a=>{m.emit("progressNum",b(a)),parseInt(b(a))>=100&&setTimeout((()=>{g.value=!1,B.value=!0,setTimeout((()=>{B.value=!1}),1500)}),1e3)}),{deep:!0}),o((()=>s.sceneId),(()=>{}),{deep:!0,immediate:!0});const D=()=>{const a=t.value;h=new x({el:a,tween:l,path:"../public/scene/"}),h.initSky()},L=()=>{y.value=!1,h.sky.setSkyBox("sky4")},O=()=>{y.value=!1,h.sky.initShaderSky({scale:100,turbidity:2,rayleigh:4,postion:[15,2,-20]})};return(a,s)=>(c(),d("div",null,[i("div",f,[r("    loding"),u(i("div",w,[S,i("div",_,v(parseInt(b(V)))+"%",1)],512),[[k,b(g)]]),r("转场动画"),u(i("div",I,[i("span",A,v(b(E)),1)],512),[[k,b(B)]]),i("div",{ref:t,id:"map",class:"map"},null,512),u(i("div",T,[P],512),[[k,b(y)]])]),i("div",{class:"btn"},[i("button",{class:"custom-btn btn-12",onClick:L},[C,N]),i("button",{class:"custom-btn btn-12",onClick:O},[j,q])])]))}});B.__scopeId="data-v-0515eb2c";const E=i("h1",{id:"天空类"},[i("a",{class:"header-anchor",href:"#天空类","aria-hidden":"true"},"#"),y(" 天空类")],-1),V=h('<h2 id="使用"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h2><div class="language-js"><pre><code>el<span class="token operator">:</span>dom元素\ntween<span class="token operator">:</span>过渡库\npath<span class="token operator">:</span>加载路径\nsceneA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Index</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  el<span class="token operator">:</span> el <span class="token keyword">as</span> HTMLElement<span class="token punctuation">,</span>\n  tween<span class="token operator">:</span> <span class="token constant">TWEEN</span><span class="token punctuation">,</span>\n  path<span class="token operator">:</span> <span class="token string">&quot;../public/scene/&quot;</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nsceneA<span class="token punctuation">.</span><span class="token function">initSky</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">//天空盒子</span>\nsceneA<span class="token punctuation">.</span>sky<span class="token punctuation">.</span><span class="token function">setSkyBox</span><span class="token punctuation">(</span><span class="token string">&quot;sky4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">//着色器天空</span>\nsceneA<span class="token punctuation">.</span>sky<span class="token punctuation">.</span><span class="token function">initShaderSky</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  scale<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>\n  turbidity<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>\n  rayleigh<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>\n  postion<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="api"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2><table><thead><tr><th>Viewer</th><th style="text-align:left;">描述</th><th></th></tr></thead><tbody><tr><td>属性</td><td style="text-align:left;"></td><td></td></tr><tr><td>sky</td><td style="text-align:left;">天空类</td><td></td></tr><tr><td>方法</td><td style="text-align:left;">描述</td><td>参数</td></tr><tr><td>setSkyBox</td><td style="text-align:left;">天空盒子（例：（&#39;sky4&#39;）加载 path 下的 sky4 文件夹）</td><td>flieName</td></tr><tr><td>initShaderSky</td><td style="text-align:left;">着色器类</td><td>ShaderSkyParams 见下方</td></tr></tbody></table><table><thead><tr><th>名称</th><th style="text-align:left;">参数</th><th>类型</th></tr></thead><tbody><tr><td>ShaderSkyParams</td><td style="text-align:left;">scale:大小</td><td>number</td></tr><tr><td></td><td style="text-align:left;">turbidity:浑浊度</td><td>number</td></tr><tr><td></td><td style="text-align:left;">rayleigh:散射</td><td>number</td></tr><tr><td></td><td style="text-align:left;">postion:位置</td><td>number[]</td></tr></tbody></table>',5),D='{"title":"天空类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Sky/index.md","lastUpdated":1678273421505}',L={};const O=Object.assign(L,{setup:function(a){return(a,s)=>(c(),d("div",null,[E,i(B),V]))}});export default O;export{D as __pageData};
