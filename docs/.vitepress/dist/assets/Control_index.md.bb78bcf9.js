import{p as t,a as s,d as a,r as n,b as e,e as o,w as l,f as r,o as d,c,g as i,h as p,i as u,v,u as h,t as f,j as g,k as b}from"./app.ceccd6b0.js";import{V as x,b as m}from"./index.e1633dd4.js";class y extends x{constructor(t){super(t),this.initModel()}init(){this.controls.initTransform(this.sceneidx),this.initEnvironment({path:"exr.exr",type:"exr"}),this.initSky(),this.sky.initShaderSky({scale:1e4,turbidity:2,rayleigh:4,postion:[15,2,-20]}),this.getEvent(),this.controls.orbitControls.enabled=!1,this.controls.transformControls.enabled=!1}getEvent(){this.initEvent(["mousemove"]),this.event.typesFn={mousemove:[t=>{this.controls.transformControls.enabled&&this.controls.transformControls.attach(t.list[0].object.parent)}]}}}t("data-v-30f43c9c");const w={class:"wrap"},C={class:"loading"},k=g('<div class="loading-text" data-v-30f43c9c><span class="loading-text-words" data-v-30f43c9c>L</span><span class="loading-text-words" data-v-30f43c9c>O</span><span class="loading-text-words" data-v-30f43c9c>A</span><span class="loading-text-words" data-v-30f43c9c>D</span><span class="loading-text-words" data-v-30f43c9c>I</span><span class="loading-text-words" data-v-30f43c9c>N</span><span class="loading-text-words" data-v-30f43c9c>G</span></div>',1),_={class:"loding-percent"},T={class:"container"},I={class:"container-text"},S={class:"tips"},j=g('<div class="loading-text" data-v-30f43c9c><span class="loading-text-words" data-v-30f43c9c>请</span><span class="loading-text-words" data-v-30f43c9c>点</span><span class="loading-text-words" data-v-30f43c9c>击</span><span class="loading-text-words" data-v-30f43c9c>下</span><span class="loading-text-words" data-v-30f43c9c>方</span><span class="loading-text-words" data-v-30f43c9c>按</span><span class="loading-text-words" data-v-30f43c9c>钮</span></div>',1),A=i("span",null,"Click!",-1),E=i("span",null,"轨道控制器",-1),P=i("span",null,"Click!",-1),V=i("span",null,"变换控制器",-1);s();var N=a({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(t){const s=n();let a,g=n(!1),b=n(!0),x=n(!1),N=n(""),D=n("0");e((()=>{O()})),o((()=>{a&&a.destroy(),m.off("scene")})),m.on("scene",(t=>{({loading:()=>{D.value=t.progressNum,b.value=t.value},transition:()=>{x.value=t.value}})[t.type]()})),l((()=>D),(t=>{m.emit("progressNum",h(t)),parseInt(h(t))>=100&&setTimeout((()=>{b.value=!1,x.value=!0,setTimeout((()=>{x.value=!1}),1500)}),1e3)}),{deep:!0});const O=()=>{const t=s.value;a=new y({el:t,tween:r,path:"../public/scene/"}),G("3")},B=()=>{a.controls.transformControls.detach(),a.controls.transformControls.enabled=!1,a.controls.orbitControls.enabled=!0},F=()=>{a.controls.transformControls.enabled=!0,a.controls.orbitControls.enabled=!1,a.controls.transformControls.detach()},G=t=>{switch(t){case"3":a.setScene(3,(()=>{a.init()})),N.value="控制器",a.flyTo({position:[0,0,3],controls:[0,1,0],duration:2e3})}};return(t,a)=>(d(),c("div",null,[i("div",w,[p("    loding"),u(i("div",C,[k,i("div",_,f(parseInt(h(D)))+"%",1)],512),[[v,h(b)]]),p("转场动画"),u(i("div",T,[i("span",I,f(h(N)),1)],512),[[v,h(x)]]),i("div",{ref:s,id:"map",class:"map"},null,512),u(i("div",S,[j],512),[[v,h(g)]])]),i("div",{class:"btn"},[i("button",{class:"custom-btn btn-12",onClick:B},[A,E]),i("button",{class:"custom-btn btn-12",onClick:F},[P,V])])]))}});N.__scopeId="data-v-30f43c9c";const D=i("h1",{id:"控制器类"},[i("a",{class:"header-anchor",href:"#控制器类","aria-hidden":"true"},"#"),b(" 控制器类")],-1),O=g('<h2 id="使用"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h2><div class="language-js"><pre><code>内置方法，主类已经默认加载相机\n<span class="token keyword">new</span> <span class="token class-name">Control</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    camera<span class="token punctuation">,</span>\n    renderer<span class="token punctuation">,</span>\n    scene\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="api"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2><table><thead><tr><th>Viewer</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td>属性</td><td style="text-align:left;"></td></tr><tr><td>controls</td><td style="text-align:left;">控制器对象（Viewer 中通过 this.controls 访问)</td></tr></tbody></table><table><thead><tr><th>实例下</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td>属性</td><td style="text-align:left;"></td></tr><tr><td>orbitControls</td><td style="text-align:left;">轨道控制器(属性方法见官网)</td></tr><tr><td>transformControls</td><td style="text-align:left;">变换控制器(属性方法见官网)</td></tr></tbody></table>',5),B='{"title":"控制器类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Control/index.md","lastUpdated":1678969269788}',F={};const G=Object.assign(F,{setup:function(t){return(t,s)=>(d(),c("div",null,[D,i(N),O]))}});export default G;export{B as __pageData};
