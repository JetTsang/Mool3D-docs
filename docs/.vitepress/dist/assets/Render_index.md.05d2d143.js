import{V as a,aj as s,S as e,p as t,a as n,d as i,r as o,b as p,e as l,w as c,f as d,o as r,c as u,h,i as v,v as m,u as k,g,t as f,j as w,k as x}from"./app.ceccd6b0.js";import{V as y,C as _,b}from"./index.e1633dd4.js";class S extends y{constructor(a){super(a),this.initModel()}init(){this.initSky(),this.initSource(),this.initEnvironment({path:"exr.exr",type:"exr"}),this.setLight(),this.sky.initShaderSky({scale:100,turbidity:1,rayleigh:10,postion:[15,6,-20]}),this.initWater({textureWidth:200,textureHeight:200,radius:400,waterPosition:new a(0,.2,0),texture:this.souce.loadTexture({path:"/docs/public/images/waternormals.jpg",onLoad:function(a){a.wrapS=a.wrapT=s}}),sunPosition:new a(0,0,0),sunColor:"#f2c144",waterColor:"#fff",distortionScale:.7,time:.01,scene:this.scene})}setLight(){var a;null==(a=this.ambient)||a.setLight(1,.1)}setShader(){var a;this.model.deepFunction.push((({e:a,item:s})=>{if("mool"==s.name){const s=new e(_);a.material=s}else a.scale.set(.8,.8,.8)})),null==(a=this.animate)||a.animateFuntion.push((a=>{_.uniforms.iTime.value+=a/1.5}))}}t("data-v-5c4d25ee");const T={class:"wrap"},I={class:"loading"},j=w('<div class="loading-text" data-v-5c4d25ee><span class="loading-text-words" data-v-5c4d25ee>L</span><span class="loading-text-words" data-v-5c4d25ee>O</span><span class="loading-text-words" data-v-5c4d25ee>A</span><span class="loading-text-words" data-v-5c4d25ee>D</span><span class="loading-text-words" data-v-5c4d25ee>I</span><span class="loading-text-words" data-v-5c4d25ee>N</span><span class="loading-text-words" data-v-5c4d25ee>G</span></div>',1),A={class:"loding-percent"},P={class:"container"},V={class:"container-text"};n();var C=i({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(a){const s=a,e=o();let t,n=o(!0),i=o(!1),w=o(""),x=o("0");p((()=>{y()})),l((()=>{t&&t.destroy(),b.off("scene")})),b.on("scene",(a=>{({loading:()=>{x.value=a.progressNum,n.value=a.value},transition:()=>{i.value=a.value}})[a.type]()})),c((()=>x),(a=>{b.emit("progressNum",k(a)),parseInt(k(a))>=100&&setTimeout((()=>{n.value=!1,i.value=!0,setTimeout((()=>{i.value=!1}),1500)}),1e3)}),{deep:!0}),c((()=>s.sceneId),(()=>{}),{deep:!0,immediate:!0});const y=()=>{const a=e.value;t=new S({el:a,tween:d,path:"../public/scene/"}),_("1")},_=a=>{switch(a){case"1":t.setScene(1,(()=>{t.init()})),w.value="渲染",t.flyTo({position:[0,0,6],controls:[0,2,0],duration:2e3})}};return(a,s)=>(r(),u("div",T,[h("    loding"),v(g("div",I,[j,g("div",A,f(parseInt(k(x)))+"%",1)],512),[[m,k(n)]]),h("转场动画"),v(g("div",P,[g("span",V,f(k(w)),1)],512),[[m,k(i)]]),g("div",{ref:e,id:"map",class:"map"},null,512)]))}});C.__scopeId="data-v-5c4d25ee";const L=g("h1",{id:"渲染类"},[g("a",{class:"header-anchor",href:"#渲染类","aria-hidden":"true"},"#"),x(" 渲染类")],-1),N=w('<h2 id="使用"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h2><div class="language-js"><pre><code>内置方法，主类已经默认使用（需配合Animate类一同使用）\nel<span class="token operator">:</span>dom元素\n<span class="token keyword">new</span> <span class="token class-name">Renderer</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span>animate<span class="token operator">?.</span>animateFuntion<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">//类中具体介绍（解藕函数）</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>scene<span class="token punctuation">,</span> camera<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="api"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2><table><thead><tr><th>Viewer</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td>属性</td><td style="text-align:left;"></td></tr><tr><td>renderer</td><td style="text-align:left;">构造器对象（Viewer 中通过 this.renderer 访问）</td></tr></tbody></table>',4),F='{"title":"渲染类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Render/index.md","lastUpdated":1678273100882}',R={};const D=Object.assign(R,{setup:function(a){return(a,s)=>(r(),u("div",null,[L,g(C),N]))}});export default D;export{F as __pageData};
