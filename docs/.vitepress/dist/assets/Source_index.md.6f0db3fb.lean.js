import{V as t,al as a,p as e,b as s,d as n,r as i,e as d,f as r,w as l,g as o,o as c,c as p,h as u,i as h,v,u as g,j as f,t as x,a as y,k as m}from"./app.fee60d13.js";import{V as w,b}from"./index.207465f4.js";class _ extends w{constructor(t){super(t),this.init()}init(){this.initSource(),this.initSky(),this.setLight(),this.sky.initShaderSky({scale:100,turbidity:1,rayleigh:10,postion:[15,6,-20]}),this.initEnvironment({path:"exr.exr",type:"exr"}),this.initWater({textureWidth:200,textureHeight:200,radius:400,waterPosition:new t(0,0,0),texture:this.souce.loadTexture({path:"/docs/public/images/waternormals.jpg",onLoad:function(t){t.wrapS=t.wrapT=a}}),sunPosition:new t(0,0,0),sunColor:"#f2c144",waterColor:"#fff",distortionScale:.7,time:.01,scene:this.scene}),this.flyTo({position:[0,0,6],controls:[0,2,0],duration:2e3})}setLight(){var t;null==(t=this.ambient)||t.setLight(1,.1)}}e("data-v-4c288886");const S={class:"wrap"},T={class:"loading"},k=y('<div class="loading-text" data-v-4c288886><span class="loading-text-words" data-v-4c288886>L</span><span class="loading-text-words" data-v-4c288886>O</span><span class="loading-text-words" data-v-4c288886>A</span><span class="loading-text-words" data-v-4c288886>D</span><span class="loading-text-words" data-v-4c288886>I</span><span class="loading-text-words" data-v-4c288886>N</span><span class="loading-text-words" data-v-4c288886>G</span></div>',1),I={class:"loding-percent"},P={class:"container"},j={class:"container-text"};s();var A=n({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(t){const a=t,e=i();let s,n=i(!1),y=i(!1),m=i(""),w=i("0");d((()=>{A()})),r((()=>{s&&s.destroy(),b.off("scene")})),b.on("scene",(t=>{({loading:()=>{w.value=t.progressNum,n.value=t.value},transition:()=>{y.value=t.value}})[t.type]()})),l((()=>w),(t=>{b.emit("progressNum",g(t)),parseInt(g(t))>=100&&setTimeout((()=>{n.value=!1,y.value=!0,setTimeout((()=>{y.value=!1,s.initWater()}),1500)}),1e3)}),{deep:!0}),l((()=>a.sceneId),(()=>{}),{deep:!0,immediate:!0});const A=()=>{const t=e.value;s=new _({el:t,tween:o,path:"../public/scene/"})};return(t,a)=>(c(),p("div",S,[u("    loding"),h(f("div",T,[k,f("div",I,x(parseInt(g(w)))+"%",1)],512),[[v,g(n)]]),u("转场动画"),h(f("div",P,[f("span",j,x(g(m)),1)],512),[[v,g(y)]]),f("div",{ref:e,id:"map",class:"map"},null,512)]))}});A.__scopeId="data-v-4c288886";const L=f("h1",{id:"资源类"},[f("a",{class:"header-anchor",href:"#资源类","aria-hidden":"true"},"#"),m(" 资源类")],-1),V=y('',5),C='{"title":"资源类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Source/index.md","lastUpdated":1678961491080}',N={};const E=Object.assign(N,{setup:function(t){return(t,a)=>(c(),p("div",null,[L,f(A),V]))}});export default E;export{C as __pageData};
