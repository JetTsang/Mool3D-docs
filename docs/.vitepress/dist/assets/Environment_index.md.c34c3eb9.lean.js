import{p as a,a as s,d as t,r as n,b as e,e as o,w as l,f as p,o as d,c as i,g as c,h as r,i as u,v,u as h,t as k,j as g,k as x}from"./app.ceccd6b0.js";import{V as m,b as y}from"./index.e1633dd4.js";class w extends m{constructor(a){super(a),this.initModel()}}a("data-v-111ca423");const b={class:"wrap"},f={class:"loading"},_=g('<div class="loading-text" data-v-111ca423><span class="loading-text-words" data-v-111ca423>L</span><span class="loading-text-words" data-v-111ca423>O</span><span class="loading-text-words" data-v-111ca423>A</span><span class="loading-text-words" data-v-111ca423>D</span><span class="loading-text-words" data-v-111ca423>I</span><span class="loading-text-words" data-v-111ca423>N</span><span class="loading-text-words" data-v-111ca423>G</span></div>',1),I={class:"loding-percent"},S={class:"container"},T={class:"container-text"},A={class:"tips"},C=g('<div class="loading-text" data-v-111ca423><span class="loading-text-words" data-v-111ca423>请</span><span class="loading-text-words" data-v-111ca423>点</span><span class="loading-text-words" data-v-111ca423>击</span><span class="loading-text-words" data-v-111ca423>下</span><span class="loading-text-words" data-v-111ca423>方</span><span class="loading-text-words" data-v-111ca423>按</span><span class="loading-text-words" data-v-111ca423>钮</span></div>',1),E=c("span",null,"Click!",-1),j=c("span",null,"hdr贴图",-1),P=c("span",null,"Click!",-1),V=c("span",null,"exr贴图",-1);s();var N=t({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(a){const s=a,t=n();let g,x=n(!0),m=n(!0),N=n(!1),D=n(""),O=n("0");e((()=>{B()})),o((()=>{g&&g.destroy(),y.off("scene")})),y.on("scene",(a=>{({loading:()=>{O.value=a.progressNum,m.value=a.value},transition:()=>{N.value=a.value}})[a.type]()})),l((()=>O),(a=>{y.emit("progressNum",h(a)),parseInt(h(a))>=100&&setTimeout((()=>{m.value=!1,N.value=!0,setTimeout((()=>{N.value=!1}),1500)}),1e3)}),{deep:!0}),l((()=>s.sceneId),(()=>{}),{deep:!0,immediate:!0});const B=()=>{const a=t.value;g=new w({el:a,tween:p,path:"../public/scene/"}),M("1")},G=()=>{g.initEnvironment({path:"hdr.hdr",type:"hdr"})},L=()=>{g.initEnvironment({path:"exr.exr",type:"exr"})},M=a=>{switch(a){case"1":g.setScene(1,(()=>{g.initSky(),x.value=!1,g.sky.initShaderSky({scale:1e4,turbidity:2,rayleigh:4,postion:[15,2,-20]})})),D.value="环境贴图",g.flyTo({position:[0,0,6],controls:[0,2,0],duration:2e3})}};return(a,s)=>(d(),i("div",null,[c("div",b,[r("    loding"),u(c("div",f,[_,c("div",I,k(parseInt(h(O)))+"%",1)],512),[[v,h(m)]]),r("转场动画"),u(c("div",S,[c("span",T,k(h(D)),1)],512),[[v,h(N)]]),c("div",{ref:t,id:"map",class:"map"},null,512),u(c("div",A,[C],512),[[v,h(x)]])]),c("div",{class:"btn"},[c("button",{class:"custom-btn btn-12",onClick:G},[E,j]),c("button",{class:"custom-btn btn-12",onClick:L},[P,V])])]))}});N.__scopeId="data-v-111ca423";const D=c("h1",{id:"环境贴图类"},[c("a",{class:"header-anchor",href:"#环境贴图类","aria-hidden":"true"},"#"),x(" 环境贴图类")],-1),O=g('',5),B='{"title":"环境贴图类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Environment/index.md","lastUpdated":1678969272405}',G={};const L=Object.assign(G,{setup:function(a){return(a,s)=>(d(),i("div",null,[D,c(N),O]))}});export default L;export{B as __pageData};
