import{V as t,al as a,p as s,b as n,d as e,r as o,e as p,f as r,w as i,g as l,o as c,c as u,h as d,i as k,v as h,u as b,j as g,t as f,a as m,k as x}from"./app.fee60d13.js";import{V as w,b as v}from"./index.207465f4.js";class y extends w{constructor(t){super(t),this.init()}init(){this.initSource(),this.initSky(),this.setLight(),this.sky.initShaderSky({scale:1e3,turbidity:1,rayleigh:10,postion:[15,2,-20]}),this.initEnvironment({path:"exr.exr",type:"exr"}),this.initWater({textureWidth:200,textureHeight:200,radius:400,waterPosition:new t(0,0,0),texture:this.souce.loadTexture({path:"/docs/public/images/waternormals.jpg",onLoad:function(t){t.wrapS=t.wrapT=a}}),sunPosition:new t(0,5,0),sunColor:"#e19d6a",waterColor:"#e19d6a",distortionScale:.7,time:.01,scene:this.scene}),this.flyTo({position:[0,0,6],controls:[0,2,0],duration:2e3})}setLight(){var t;null==(t=this.ambient)||t.setLight(.7,1)}}s("data-v-c951bfa4");const T={class:"wrap"},_={class:"loading"},S=m('<div class="loading-text" data-v-c951bfa4><span class="loading-text-words" data-v-c951bfa4>L</span><span class="loading-text-words" data-v-c951bfa4>O</span><span class="loading-text-words" data-v-c951bfa4>A</span><span class="loading-text-words" data-v-c951bfa4>D</span><span class="loading-text-words" data-v-c951bfa4>I</span><span class="loading-text-words" data-v-c951bfa4>N</span><span class="loading-text-words" data-v-c951bfa4>G</span></div>',1),P={class:"loding-percent"},I={class:"container"},V={class:"container-text"};n();var W=e({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(t){const a=t,s=o();let n,e=o(!1),m=o(!1),x=o(""),w=o("0");p((()=>{W()})),r((()=>{n&&n.destroy(),v.off("scene")})),v.on("scene",(t=>{({loading:()=>{w.value=t.progressNum,e.value=t.value},transition:()=>{m.value=t.value}})[t.type]()})),i((()=>w),(t=>{v.emit("progressNum",b(t)),parseInt(b(t))>=100&&setTimeout((()=>{e.value=!1,m.value=!0,setTimeout((()=>{m.value=!1,n.initWater()}),1500)}),1e3)}),{deep:!0}),i((()=>a.sceneId),(()=>{}),{deep:!0,immediate:!0});const W=()=>{const t=s.value;n=new y({el:t,tween:l,path:"../public/scene/"})};return(t,a)=>(c(),u("div",T,[d("    loding"),k(g("div",_,[S,g("div",P,f(parseInt(b(w)))+"%",1)],512),[[h,b(e)]]),d("转场动画"),k(g("div",I,[g("span",V,f(b(x)),1)],512),[[h,b(m)]]),g("div",{ref:s,id:"map",class:"map"},null,512)]))}});W.__scopeId="data-v-c951bfa4";const C=g("h1",{id:"water-类"},[g("a",{class:"header-anchor",href:"#water-类","aria-hidden":"true"},"#"),x(" water 类")],-1),j=m('',5),L='{"title":"water 类","description":"","frontmatter":{},"headers":[{"level":2,"title":"使用","slug":"使用"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Water/index.md","lastUpdated":1679115737994}',q={};const A=Object.assign(q,{setup:function(t){return(t,a)=>(c(),u("div",null,[C,g(W),j]))}});export default A;export{L as __pageData};
