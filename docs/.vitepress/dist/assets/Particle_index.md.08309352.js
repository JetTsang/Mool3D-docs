import{V as t,aj as s,p as a,a as n,d as e,r as i,b as l,e as o,w as p,f as c,o as d,c as r,g as u,h as k,i as h,v as y,u as g,t as f,j as w,k as m}from"./app.ceccd6b0.js";import{V as b,b as v}from"./index.e1633dd4.js";class x extends b{constructor(t){super(t),this.initModel()}init(){this.initSource(),this.initSky(),this.setLight(),this.initFog(),this.model.playAllClipes(this.sceneidx),this.sky.initShaderSky({scale:1e3,turbidity:1,rayleigh:2,postion:[-100,5,-100]}),this.particle=this.initParticleEngine(this.particle,!0),this.fog.initFogExp("#cccccc",.003),this.initWater({textureWidth:200,textureHeight:200,radius:400,waterPosition:new t(0,0,0),texture:this.souce.loadTexture({path:"/docs/public/images/waternormals.jpg",onLoad:function(t){t.wrapS=t.wrapT=s}}),sunPosition:new t(-10,10,-10),sunColor:"#f2c144",waterColor:"#fff",distortionScale:.7,time:.01,scene:this.scene})}setLight(){var t;null==(t=this.ambient)||t.setLight(1.5,.7)}setSky(){this.sky.sky.material.uniforms.sunPosition.value=new t(-100,5,-100)}snow(){var s;null==(s=this.ambient)||s.setLight(1,.7),this.sky.sky.material.uniforms.sunPosition.value=new t(0,1,0),this.particle.destroy(),this.setParticleMode(this.particle,"snow",{positionBase:new t(0,150,0),positionSpread:new t(400,0,400),velocityBase:new t(20,-100,0),velocitySpread:new t(-10,-50,0),particlesPerSecond:50,particleDeathAge:3,sizeTween:this.getParticleTween([0,.25],[10,13])})}rain(){var s;this.particle.destroy(),null==(s=this.ambient)||s.setLight(.2,.7),this.sky.sky.material.uniforms.sunPosition.value=new t(0,1,0),this.setParticleMode(this.particle,"rain",{positionBase:new t(0,150,0),positionSpread:new t(400,0,400),velocityBase:new t(0,-200,0),velocitySpread:new t(0,0,0),particlesPerSecond:150,particleDeathAge:2,sizeBase:20,sizeSpread:10,opacityBase:.5})}starfield(){var s;this.particle.destroy(),null==(s=this.ambient)||s.setLight(.4,.7),this.sky.sky.material.uniforms.sunPosition.value=new t(0,0,0),this.setParticleMode(this.particle,"starfield",{positionBase:new t(-400,200,-700),positionSpread:new t(3e3,400,0),sizeBase:20,particlesPerSecond:1e3,particleDeathAge:3})}fireflies(){var s;this.particle.destroy(),null==(s=this.ambient)||s.setLight(.4,.7),this.sky.sky.material.uniforms.sunPosition.value=new t(0,0,0),this.setParticleMode(this.particle,"fireflies",{positionBase:new t(0,100,-50),positionSpread:new t(300,-200,0),sizeBase:20,particlesPerSecond:10,particleDeathAge:3,particleTexture:this.souce.loadTexture({path:"/docs/public/lizi/spark.png"})})}candle(){this.setLight(),this.setSky(),this.particle.destroy(),this.setParticleMode(this.particle,"candle",{positionBase:new t(0,10,-50),positionRadius:1,velocityBase:new t(0,20,0),velocitySpread:new t(12,40,12),sizeTween:this.getParticleTween([10,10.3,10.2],[14,10,8]),particleDeathAge:4})}clouds(){this.setLight(),this.sky.sky.material.uniforms.sunPosition.value=new t(-100,20,-100),this.particle.destroy(),this.setParticleMode(this.particle,"clouds",{positionBase:new t(-320,40,-300),positionSpread:new t(50,10,100),velocityBase:new t(1,0,0),velocitySpread:new t(10,0,0),sizeBase:30,sizeSpread:10,particlesPerSecond:100,particleDeathAge:10,colorBase:new t(1,1,1)})}firework(){var s;this.particle.destroy(),null==(s=this.ambient)||s.setLight(.4,.7),this.sky.sky.material.uniforms.sunPosition.value=new t(0,0,0),this.setParticleMode(this.particle,"firework",{positionBase:new t(-100,150,-300),positionRadius:15,particlesPerSecond:3e3,particleDeathAge:4})}smoke(){this.setLight(),this.setSky(),this.particle.destroy(),this.setParticleMode(this.particle,"smoke",{positionBase:new t(0,10,-50),positionRadius:1,velocityBase:new t(0,20,0),velocitySpread:new t(12,40,12),sizeTween:this.getParticleTween([10,10.3,10.2],[14,10,8]),particleDeathAge:4})}}a("data-v-f7c29482");const S={class:"wrap"},P={class:"loading"},T=w('<div class="loading-text" data-v-f7c29482><span class="loading-text-words" data-v-f7c29482>L</span><span class="loading-text-words" data-v-f7c29482>O</span><span class="loading-text-words" data-v-f7c29482>A</span><span class="loading-text-words" data-v-f7c29482>D</span><span class="loading-text-words" data-v-f7c29482>I</span><span class="loading-text-words" data-v-f7c29482>N</span><span class="loading-text-words" data-v-f7c29482>G</span></div>',1),B={class:"loding-percent"},E={class:"container"},V={class:"container-text"},A={class:"tips"},z=w('<div class="loading-text" data-v-f7c29482><span class="loading-text-words" data-v-f7c29482>ËØ∑</span><span class="loading-text-words" data-v-f7c29482>ÁÇπ</span><span class="loading-text-words" data-v-f7c29482>Âáª</span><span class="loading-text-words" data-v-f7c29482>‰∏ã</span><span class="loading-text-words" data-v-f7c29482>Êñπ</span><span class="loading-text-words" data-v-f7c29482>Êåâ</span><span class="loading-text-words" data-v-f7c29482>ÈíÆ</span></div>',1),R=u("span",null,"Èõ™Ëä±‚ùÑÔ∏è",-1),_=u("span",null,"Èõ®Ê∞¥üåßÔ∏è",-1),C=u("span",null,"ÁÉüÈõæüå´Ô∏è",-1),D=u("span",null,"ÊòüÊòüüåü",-1),L=u("span",null,"ÁÅ´ÁÑ∞üî•",-1),I=u("span",null,"ÁÉüËä±üéÜ",-1),M=u("span",null,"‰∫ë‚òÅÔ∏è",-1),H=u("span",null,"Ëê§ÁÅ´Ëô´üêõ",-1);n();var j=e({props:{sceneId:{type:String,default:"0"},visible:{type:Boolean,default:!1}},setup(t){const s=t,a=i();let n,e=i(!1),w=i(!0),m=i(!1),b=i(""),j=i("0");l((()=>{N()})),o((()=>{n&&n.destroy(),v.off("scene")})),v.on("scene",(t=>{({loading:()=>{j.value=t.progressNum,w.value=t.value},transition:()=>{m.value=t.value}})[t.type]()})),p((()=>j),(t=>{v.emit("progressNum",g(t)),parseInt(g(t))>=100&&setTimeout((()=>{w.value=!1,m.value=!0,setTimeout((()=>{m.value=!1}),1500)}),1e3)}),{deep:!0}),p((()=>s.sceneId),(()=>{}),{deep:!0,immediate:!0});const N=()=>{const t=a.value;n=new x({el:t,tween:c,path:"../public/scene/"}),Q("1")},q=()=>{n.snow()},F=()=>{n.rain()},O=()=>{n.starfield()},W=()=>{n.fireflies()},G=()=>{n.candle()},U=()=>{n.clouds()},J=()=>{n.firework()},K=()=>{n.smoke()},Q=t=>{switch(t){case"1":n.setScene(2,(()=>{n.init()})),b.value="Á≤íÂ≠êÁ≥ªÁªü",n.flyTo({position:[-20,50,40],controls:[-20,50,0],duration:2e3})}};return(t,s)=>(d(),r("div",null,[u("div",S,[k("    loding"),h(u("div",P,[T,u("div",B,f(parseInt(g(j)))+"%",1)],512),[[y,g(w)]]),k("ËΩ¨Âú∫Âä®Áîª"),h(u("div",E,[u("span",V,f(g(b)),1)],512),[[y,g(m)]]),u("div",{ref:a,id:"map",class:"map"},null,512),h(u("div",A,[z],512),[[y,g(e)]])]),u("div",{class:"btn"},[u("button",{class:"custom-btn btn-3",onClick:q},[R]),u("button",{class:"custom-btn btn-6",onClick:F},[_]),u("button",{class:"custom-btn btn-16",onClick:K},[C]),u("button",{class:"custom-btn btn-8",onClick:O},[D])]),u("div",{class:"btn"},[u("button",{class:"custom-btn btn-3",onClick:G},[L]),u("button",{class:"custom-btn btn-6",onClick:J},[I]),u("button",{class:"custom-btn btn-16",onClick:U},[M]),u("button",{class:"custom-btn btn-8",onClick:W},[H])])]))}});j.__scopeId="data-v-f7c29482";const N=u("h1",{id:"Á≤íÂ≠êÁ≥ªÁªü"},[u("a",{class:"header-anchor",href:"#Á≤íÂ≠êÁ≥ªÁªü","aria-hidden":"true"},"#"),m(" Á≤íÂ≠êÁ≥ªÁªü")],-1),q=w('<h2 id="‰ΩøÁî®"><a class="header-anchor" href="#‰ΩøÁî®" aria-hidden="true">#</a> ‰ΩøÁî®</h2><div class="language-js"><pre><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Index</span> <span class="token keyword">extends</span> <span class="token class-name">Viewer</span> <span class="token punctuation">{</span>\n  particle<span class="token operator">:</span> ParticleEngineType<span class="token punctuation">;</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>particle <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">initParticleEngine</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>particle<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">snow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setParticleMode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>particle<span class="token punctuation">,</span> <span class="token string">&quot;snow&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n      positionBase<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      positionSpread<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      velocityBase<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      velocitySpread<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Vector3</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      particlesPerSecond<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>\n      particleDeathAge<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>\n      sizeTween<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getParticleTween</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.25</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h2 id="api"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2><table><thead><tr><th>Viewer ‰∏ãÊñπÊ≥ï</th><th style="text-align:left;">ÂèÇÊï∞</th><th>ÊèèËø∞</th></tr></thead><tbody><tr><td>initParticleEngine</td><td style="text-align:left;">particle:Á≤íÂ≠êÊé•Êî∂ÂØπË±°<br> mugen:ÊòØÂê¶Êó†ÈôêÂæ™ÁéØ</td><td>Á≤íÂ≠êÁ±ªÂàùÂßãÂåñ</td></tr><tr><td>setParticleMode</td><td style="text-align:left;">particle:Á≤íÂ≠êÊé•Êî∂ÂØπË±°<br> key:Á≤íÂ≠êÁ±ªÂûã<br>ParticleExamplesParams:Á≤íÂ≠êÈÖçÁΩÆÂØπË±°</td><td>ËÆæÁΩÆÁ≤íÂ≠êÊ®°Âºè</td></tr><tr><td>getParticleTween</td><td style="text-align:left;">times:Êó∂Èó¥ËøáÊ∏°Âå∫Èó¥([0.5,1])<br>values:Êï∞ÂÄºËøáÊ∏°Âå∫Èó¥([10, 13])</td><td>Á≤íÂ≠êËøáÊ∏°ÂáΩÊï∞</td></tr></tbody></table><table><thead><tr><th>ÂÆû‰æã‰∏ã</th><th style="text-align:left;">ÊèèËø∞</th><th></th></tr></thead><tbody><tr><td>Â±ûÊÄß</td><td style="text-align:left;">ÊèèËø∞</td><td>Á±ªÂûã</td></tr><tr><td>mugen</td><td style="text-align:left;">ÊòØÂê¶Êó†ÈôêÂæ™ÁéØ</td><td>boolean</td></tr><tr><td>scene</td><td style="text-align:left;">Âú∫ÊôØ</td><td>THREE.Scene</td></tr><tr><td>start</td><td style="text-align:left;">ÊòØÂê¶ÂºÄÂßãËøêÂä®Âä®Áîª</td><td>boolean</td></tr><tr><td>ÊñπÊ≥ï</td><td style="text-align:left;">ÂèÇÊï∞</td><td>ÊèèËø∞</td></tr><tr><td>initialize</td><td style="text-align:left;">Êó†</td><td>Á≤íÂ≠êÁªÑÂàùÂßãÂåñ</td></tr><tr><td>setValues</td><td style="text-align:left;">parameters:Á≤íÂ≠êÈÖçÁΩÆÂØπË±°<br>params:Ëá™ÂÆö‰πâÈÖçÁΩÆÂØπË±°</td><td>Á≤íÂ≠êÊ®°Âºè</td></tr><tr><td>update</td><td style="text-align:left;">dt:Êó∂Èó¥</td><td>Á≤íÂ≠êÊõ¥Êñ∞</td></tr><tr><td>destroy</td><td style="text-align:left;">Êó†</td><td>Á≤íÂ≠êÈîÄÊØÅ</td></tr></tbody></table><table><thead><tr><th>Á≤íÂ≠êÈÖçÁΩÆÂØπË±°</th><th style="text-align:left;">Á±ªÂûã</th><th>ÊèèËø∞</th></tr></thead><tbody><tr><td>positionBase</td><td style="text-align:left;">THREE.Vector3</td><td>ÂàùÂßã‰ΩçÁΩÆ</td></tr><tr><td>positionStyle</td><td style="text-align:left;">1/2</td><td>cube or sphere</td></tr><tr><td>positionSpread</td><td style="text-align:left;">THREE.Vector3</td><td>ÂàùÂßã‰ΩçÁΩÆÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>positionRadius</td><td style="text-align:left;">number</td><td>sphere Á±ªÂûãÁöÑÁ≤íÂ≠êÊâ©Êï£ËåÉÂõ¥</td></tr><tr><td>velocityStyle</td><td style="text-align:left;">1/2</td><td>cube or sphere</td></tr><tr><td>velocityBase</td><td style="text-align:left;">THREE.Vector3</td><td>Á≤íÂ≠êËøêÂä®ÊñπÂêë‰ª•ÂèäÈÄüÂ∫¶</td></tr><tr><td>velocitySpread</td><td style="text-align:left;">THREE.Vector3</td><td>ÂàùÂßãÂåñÁ≤íÂ≠êËøêÂä®ÊñπÂêëÂíåÈÄüÂ∫¶ÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>speedBase</td><td style="text-align:left;">number</td><td>sphere Á±ªÂûãÁ≤íÂ≠êÊâ©Êï£ÈÄüÂ∫¶</td></tr><tr><td>speedSpread</td><td style="text-align:left;">number</td><td>sphere Á±ªÂûãÁ≤íÂ≠êÊâ©Êï£ÈÄüÂ∫¶ÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>accelerationBase</td><td style="text-align:left;">THREE.Vector3</td><td>ËøêÂä®ÂàùÂßãÂä†ÈÄüÂ∫¶</td></tr><tr><td>accelerationSpread</td><td style="text-align:left;">THREE.Vector3</td><td>ËøêÂä®Âä†ÈÄüÂ∫¶ÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>angleBase</td><td style="text-align:left;">number</td><td>ËßíÂ∫¶ÂàùÂßãÂÄº</td></tr><tr><td>angleSpread</td><td style="text-align:left;">number</td><td>ËßíÂ∫¶ÂàùÂßãÂåñÈöèÊú∫Á¥ØËÆ°ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>angleVelocityBase</td><td style="text-align:left;">number</td><td>ËßíÂ∫¶ÈöèÁùÄËøêÂä®Â¢ûÈáè</td></tr><tr><td>angleVelocitySpread</td><td style="text-align:left;">number</td><td>ËßíÂ∫¶Â¢ûÈáèÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>sizeBase</td><td style="text-align:left;">number</td><td>Â§ßÂ∞èÂàùÂßãÂÄº</td></tr><tr><td>sizeSpread</td><td style="text-align:left;">number</td><td>Â§ßÂ∞èÂàùÂßãÂåñÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>sizeTween</td><td style="text-align:left;">ParticleTween</td><td>Â§ßÂ∞èÈöèÊó∂Èó¥ÂèòÂåñËøáÊ∏°ÂáΩÊï∞</td></tr><tr><td>colorBase</td><td style="text-align:left;">THREE.Vector3</td><td>È¢úËâ≤ÂàùÂßãÂÄº</td></tr><tr><td>colorSpread</td><td style="text-align:left;">THREE.Vector3</td><td>È¢úËâ≤ÂàùÂßãÂåñÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>colorTween</td><td style="text-align:left;">ParticleTween</td><td>È¢úËâ≤ÈöèÊó∂Èó¥ÂèòÂåñËøáÊ∏°ÂáΩÊï∞</td></tr><tr><td>opacityBase</td><td style="text-align:left;">number</td><td>ÈÄèÊòéÂ∫¶ÂàùÂßãÂÄº</td></tr><tr><td>opacitySpread</td><td style="text-align:left;">number</td><td>ÈÄèÊòéÂ∫¶ÂàùÂßãÂåñÈöèÊú∫Á¥ØÂä†ÂÄºÔºàÂ∑ÆÂºÇÂåñÔºâ</td></tr><tr><td>opacityTween</td><td style="text-align:left;">ParticleTween</td><td>ÈÄèÊòéÂ∫¶ÈöèÊó∂Èó¥ÂèòÂåñËøáÊ∏°ÂáΩÊï∞</td></tr><tr><td>particlesPerSecond</td><td style="text-align:left;">number</td><td>ÊØèÁßí‰∫ßÁîüÁ≤íÂ≠êÊï∞Èáè</td></tr><tr><td>particleDeathAge</td><td style="text-align:left;">number</td><td>Á≤íÂ≠êÂ≠òÊ¥ªÊó∂Èó¥</td></tr><tr><td>emitterDeathAge</td><td style="text-align:left;">number</td><td>ÁªìÊùüÁ≤íÂ≠êËøêÂä®Êó∂Èó¥</td></tr></tbody></table>',6),F='{"title":"Á≤íÂ≠êÁ≥ªÁªü","description":"","frontmatter":{},"headers":[{"level":2,"title":"‰ΩøÁî®","slug":"‰ΩøÁî®"},{"level":2,"title":"API","slug":"api"}],"relativePath":"Particle/index.md","lastUpdated":1678970318518}',O={};const W=Object.assign(O,{setup:function(t){return(t,s)=>(d(),r("div",null,[N,u(j),q]))}});export default W;export{F as __pageData};
